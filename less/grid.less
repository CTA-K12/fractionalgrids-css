//
// Grid system
// --------------------------------------------------
// Author: Curtis G Hanson, MESD <chanson@mesd.k12.or.us>
// Licensed under http://www.apache.org/licenses/LICENSE-2.0
// MIT License
//

// Set the container width, and override it for fixed navbars in media queries
.container {
  .container-fixed();
}

// mobile first defaults
.row {
  .make-row();
}

div[class^='col-'],
div[class*=' col-'] {
    position:                      relative;
    min-height:                         1px;
    padding-left:  (@grid-gutter-width / 2);
    padding-right: (@grid-gutter-width / 2);
    float:                             left;
}

.column-maker (@grid-columns; xs);

@media (min-width: @screen-sm-min) {
  .container {
    width: @container-sm;
  }

  .column-maker (@grid-columns; sm);
}

@media (min-width: @screen-md-min) {
  .container {
    width: @container-md;
  }

  .column-maker (@grid-columns; md);
}

@media (min-width: @screen-lg-min) {
  .container {
    width: @container-lg;
  }

  .column-maker (@grid-columns; lg);
}

//
// Custom Grid Mixin
// --------------------------------------------------
.column-maker (@cols; @size) {

    // looper class
    .denomenator-loop (@j) when (@j > 0) {

        // looper class
        .numerator-loop (@i) when (@i > 0) {

            // css class and properties generated by the loops
            .col-@{size}-@{i}-@{j} {
                width: percentage(@i/@j);
            }

            // css class and properties generated by the loops
            .col-@{size}-offset-@{i}-@{j} {
                margin-left: percentage(@i/@j);
            }

            .col-@{size}-push-@{i}-@{j} {
                left: percentage(@i/@j);
            }

            .col-@{size}-pull-@{i}-@{j} {
                right: percentage(@i/@j);
            }

            // next iteration
            .numerator-loop(@i - 1);
        }

        // start the numerator loop
        .numerator-loop (@j);

        // next iteration
        .denomenator-loop(@j - 1);
    }

    // start the denomenator loop with highest column count
    .denomenator-loop (@cols);

}